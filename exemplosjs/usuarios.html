<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/bootstrap.css">
    <title>Usuários</title>
</head>

<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>


<body class="container bg-warning">
    <h1>Usuários de Test via REST</h1>
    <p>
        <i>
            Os usuários deste exemplo são fornecidos pela API de testes reqres.in
        </i>
    </p>
    
    <div class="container-fluid" id="usuarios">
        <div class="row">
            <div class="card col-md-3 p-2 m-3" v-for="(user, index) in users" :key="index">
                <img class="card-img-top" :src="user.avatar" alt="Avatar">
                <div class="card-body">
                    <h1 class="card-title">
                        {{user.first_name}}

                        {{user.last_name}}
                    </h1>
                    <p class="card-text">
                        {{user.email}}
                    </p>
                </div>
            </div>
        </div>
    </div>
    

    <script>
        Vue.createApp({
            el: "#usuarios",
            data() {
                return { users: [] };
            },
            mounted() {
                this.loadUsers();
            },
            methods: {
                loadUsers() {
                    fetch("https://reqres.in/api/users?per_page=10")
                    .then((response) => response.json())
                    .then((data) => {
                        this.users = data.data;
                    })
                    .catch((e) => {
                        console.error("Houve um erro ao carregar os usuários: ", error);
                    });
                },
            },
        }).mount("#usuarios");
    </script>
    
</body>
</html>